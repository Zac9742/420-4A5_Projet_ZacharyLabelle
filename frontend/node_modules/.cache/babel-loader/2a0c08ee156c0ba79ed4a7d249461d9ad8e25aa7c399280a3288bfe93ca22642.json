{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useHttpClient}from\"../../shared/hooks/http-hook\";import\"./NouveauEtudiant.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NouveauEtudiant(props){var _useHttpClient=useHttpClient(),error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),numAdmission=_useState2[0],setNumAdmission=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),nom=_useState4[0],setNom=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),courriel=_useState6[0],setCourriel=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),profil=_useState8[0],setProfil=_useState8[1];useEffect(function(){var affecterProfil=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setProfil(\"Réseau et sécurité\");case 1:case\"end\":return _context.stop();}},_callee);}));return function affecterProfil(){return _ref.apply(this,arguments);};}();affecterProfil();});var ajouterNouveauEtudiantHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var reponseData,nouveauEtudiant;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();if(!(numAdmission===\"\"||nom===\"\"||courriel===\"\"||profil===\"\")){_context2.next=4;break;}alert(\"Les champs ne peuvent pas être vides.\");return _context2.abrupt(\"return\");case 4:_context2.prev=4;_context2.next=7;return sendRequest(process.env.REACT_APP_BACKEND_URL+\"/etudiants\",\"POST\",JSON.stringify({numAdmission:numAdmission,nom:nom,courriel:courriel,profil:profil,stage:null}),{\"Content-Type\":\"application/json\"});case 7:reponseData=_context2.sent;console.log(reponseData);alert(\"Etudiant ajouté !\");nouveauEtudiant={numAdmission:numAdmission,nom:nom,courriel:courriel,profil:profil,stage:null};props.ajouterEtudiant(nouveauEtudiant);setNumAdmission(\"\");setNom(\"\");setCourriel(\"\");// history.push(\"/\");\n_context2.next=21;break;case 17:_context2.prev=17;_context2.t0=_context2[\"catch\"](4);console.log(_context2.t0);alert(\"Erreur lors de l'ajout de l'étudiant\");case 21:case\"end\":return _context2.stop();}},_callee2,null,[[4,17]]);}));return function ajouterNouveauEtudiantHandler(_x){return _ref2.apply(this,arguments);};}();function numAdmissionHandler(event){setNumAdmission(event.target.value);}function nomHandler(event){setNom(event.target.value);}function courrielHandler(event){setCourriel(event.target.value);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:ajouterNouveauEtudiantHandler,className:\"formulaire\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Ajout d'un etudiant\"}),/*#__PURE__*/_jsxs(\"label\",{for:\"numAdmission\",children:[\"Num\\xE9ro d'admission : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"numAdmission\",value:numAdmission,onChange:numAdmissionHandler,placeholder:\"Num\\xE9ro d'admission\"})]}),/*#__PURE__*/_jsxs(\"label\",{for:\"nom\",children:[\"Nom : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nom\",value:nom,onChange:nomHandler,placeholder:\"Nom\"})]}),/*#__PURE__*/_jsxs(\"label\",{for:\"courriel\",children:[\"Courriel : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"courriel\",value:courriel,onChange:courrielHandler,placeholder:\"Courriel\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"S\\xE9lectionnez un profil\",/*#__PURE__*/_jsxs(\"select\",{value:profil,onChange:function onChange(event){setProfil(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"R\\xE9seau et s\\xE9curit\\xE9\"}),/*#__PURE__*/_jsx(\"option\",{children:\"D\\xE9veloppement d'applications\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Ajouter un \\xE9tudiant\"})]});}export default NouveauEtudiant;","map":{"version":3,"names":["React","useState","useEffect","useHttpClient","NouveauEtudiant","props","error","sendRequest","clearError","numAdmission","setNumAdmission","nom","setNom","courriel","setCourriel","profil","setProfil","affecterProfil","ajouterNouveauEtudiantHandler","event","preventDefault","alert","process","env","REACT_APP_BACKEND_URL","JSON","stringify","stage","reponseData","console","log","nouveauEtudiant","ajouterEtudiant","numAdmissionHandler","target","value","nomHandler","courrielHandler"],"sources":["C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/src/etudiants/components/NouveauEtudiant.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport \"./NouveauEtudiant.css\";\r\n\r\n\r\nfunction NouveauEtudiant(props) {\r\n\r\n  const { error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [numAdmission, setNumAdmission] = useState(\"\")\r\n  const [nom, setNom] = useState(\"\");\r\n  const [courriel, setCourriel] = useState(\"\");\r\n  const [profil, setProfil] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const affecterProfil = async () => {\r\n      setProfil(\"Réseau et sécurité\")\r\n    };\r\n    affecterProfil();\r\n  })\r\n\r\n  const ajouterNouveauEtudiantHandler  = async event =>  {\r\n    event.preventDefault();\r\n    if (numAdmission === \"\" || nom === \"\" || courriel === \"\" || profil === \"\") {\r\n      alert(\"Les champs ne peuvent pas être vides.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const reponseData = await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + \"/etudiants\",\r\n        \"POST\",\r\n        JSON.stringify({\r\n          numAdmission: numAdmission,\r\n          nom: nom,\r\n          courriel: courriel,\r\n          profil: profil,\r\n          stage: null\r\n        }),\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n\r\n      console.log(reponseData);\r\n      alert(\"Etudiant ajouté !\");\r\n      \r\n      const nouveauEtudiant = {\r\n        numAdmission: numAdmission,\r\n        nom: nom,\r\n        courriel: courriel,\r\n        profil: profil,\r\n        stage: null\r\n      };\r\n\r\n      props.ajouterEtudiant(nouveauEtudiant);\r\n      setNumAdmission(\"\");\r\n      setNom(\"\");\r\n      setCourriel(\"\");\r\n     // history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      alert(\"Erreur lors de l'ajout de l'étudiant\");\r\n    }\r\n  };\r\n\r\n  function numAdmissionHandler(event) {\r\n    setNumAdmission(event.target.value);\r\n  }\r\n  function nomHandler(event) {\r\n    setNom(event.target.value);\r\n  }\r\n  function courrielHandler(event) {\r\n    setCourriel(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={ajouterNouveauEtudiantHandler} className=\"formulaire\">\r\n      <h2>Ajout d'un etudiant</h2>\r\n      <label for=\"numAdmission\">Numéro d'admission : <input\r\n        type=\"text\"\r\n        id=\"numAdmission\"\r\n        value={numAdmission}\r\n        onChange={numAdmissionHandler}\r\n        placeholder=\"Numéro d'admission\"\r\n      ></input></label>\r\n      <label for=\"nom\">Nom : <input\r\n        type=\"text\"\r\n        id=\"nom\"\r\n        value={nom}\r\n        onChange={nomHandler}\r\n        placeholder=\"Nom\"\r\n      ></input></label>\r\n      <label for=\"courriel\">Courriel : <input\r\n        type=\"text\"\r\n        id=\"courriel\"\r\n        value={courriel}\r\n        onChange={courrielHandler}\r\n        placeholder=\"Courriel\"\r\n      ></input></label>\r\n      \r\n      <label>Sélectionnez un profil<select\r\n        value={profil}\r\n        onChange={(event) => {\r\n          setProfil(event.target.value);\r\n        }}\r\n        >\r\n        <option>Réseau et sécurité</option>\r\n        <option>Développement d'applications</option>\r\n        </select></label>\r\n      \r\n      <button type=\"submit\">Ajouter un étudiant</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default NouveauEtudiant;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}