{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useHttpClient}from\"../../shared/hooks/http-hook\";import ErrorModal from\"../../shared/components/UIElements/ErrorModal\";import ListeEtudiants from\"../components/ListeEtudiants\";import NouveauEtudiant from\"../components/NouveauEtudiant\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Etudiants=function Etudiants(){var _useHttpClient=useHttpClient(),error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;var _useState=useState(),_useState2=_slicedToArray(_useState,2),etudiants=_useState2[0],setEtudiants=_useState2[1];function ajouterEtudiant(nouveauEtudiant){setEtudiants(etudiants.concat(nouveauEtudiant));}useEffect(function(){var recupererEtudiants=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var reponseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(process.env.REACT_APP_BACKEND_URL+\"/etudiants/etudiants\");case 3:reponseData=_context.sent;setEtudiants(reponseData.etudiants);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function recupererEtudiants(){return _ref.apply(this,arguments);};}();recupererEtudiants();},[sendRequest]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ErrorModal,{error:error,onClear:clearError}),/*#__PURE__*/_jsx(NouveauEtudiant,{ajouterEtudiant:ajouterEtudiant}),etudiants&&/*#__PURE__*/_jsx(ListeEtudiants,{items:etudiants}),\";\"]});};export default Etudiants;","map":{"version":3,"names":["React","useState","useEffect","useHttpClient","ErrorModal","ListeEtudiants","NouveauEtudiant","Etudiants","error","sendRequest","clearError","etudiants","setEtudiants","ajouterEtudiant","nouveauEtudiant","concat","recupererEtudiants","process","env","REACT_APP_BACKEND_URL","reponseData"],"sources":["C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/src/etudiants/pages/Etudiants.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport ListeEtudiants from \"../components/ListeEtudiants\";\r\nimport NouveauEtudiant from \"../components/NouveauEtudiant\";\r\n\r\nconst Etudiants = () => {\r\n  const {error, sendRequest, clearError } = useHttpClient();\r\n  const [etudiants, setEtudiants] = useState();\r\n\r\n  function ajouterEtudiant(nouveauEtudiant) {\r\n    setEtudiants(etudiants.concat(nouveauEtudiant));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const recupererEtudiants = async () => {\r\n      try {\r\n        const reponseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + \"/etudiants/etudiants\");\r\n\r\n        setEtudiants(reponseData.etudiants);\r\n      } catch (err) {\r\n        \r\n      }\r\n    };\r\n    recupererEtudiants();\r\n  }, [sendRequest]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <NouveauEtudiant ajouterEtudiant={ajouterEtudiant} />\r\n      {etudiants && <ListeEtudiants items={etudiants} />};\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Etudiants;\r\n"],"mappings":"sfAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,8BAA8B,CAC5D,MAAOC,WAAU,KAAM,+CAA+C,CACtE,MAAOC,eAAc,KAAM,8BAA8B,CACzD,MAAOC,gBAAe,KAAM,+BAA+B,CAAC,wFAE5D,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACtB,mBAA0CJ,aAAa,EAAE,CAAlDK,KAAK,gBAALA,KAAK,CAAEC,WAAW,gBAAXA,WAAW,CAAEC,UAAU,gBAAVA,UAAU,CACrC,cAAkCT,QAAQ,EAAE,wCAArCU,SAAS,eAAEC,YAAY,eAE9B,QAASC,gBAAe,CAACC,eAAe,CAAE,CACxCF,YAAY,CAACD,SAAS,CAACI,MAAM,CAACD,eAAe,CAAC,CAAC,CACjD,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAMc,mBAAkB,4FAAG,0LAEGP,YAAW,CAACQ,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAAG,sBAAsB,CAAC,QAA3FC,WAAW,eAEjBR,YAAY,CAACQ,WAAW,CAACT,SAAS,CAAC,CAAC,gJAIvC,kBARKK,mBAAkB,0CAQvB,CACDA,kBAAkB,EAAE,CACtB,CAAC,CAAE,CAACP,WAAW,CAAC,CAAC,CAEjB,mBACE,MAAC,KAAK,CAAC,QAAQ,yBACb,KAAC,UAAU,EAAC,KAAK,CAAED,KAAM,CAAC,OAAO,CAAEE,UAAW,EAAG,cACjD,KAAC,eAAe,EAAC,eAAe,CAAEG,eAAgB,EAAG,CACpDF,SAAS,eAAI,KAAC,cAAc,EAAC,KAAK,CAAEA,SAAU,EAAG,CAAC,GACrD,GAAiB,CAErB,CAAC,CAED,cAAeJ,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}