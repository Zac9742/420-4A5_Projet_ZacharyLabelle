{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useHttpClient}from\"../../shared/hooks/http-hook\";import ErrorModal from\"../../shared/components/UIElements/ErrorModal\";import ListeStages from\"../components/ListeStages\";import NouveauStage from\"../components/NouveauStage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Stages=function Stages(){var _useHttpClient=useHttpClient(),error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;var _useState=useState(),_useState2=_slicedToArray(_useState,2),stages=_useState2[0],setStages=_useState2[1];function ajouterStage(nouveauStage){setStages(stages.concat(nouveauStage));}useEffect(function(){var recupererStages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var reponseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(process.env.REACT_APP_BACKEND_URL+\"/stages/stages\");case 3:reponseData=_context.sent;setStages(reponseData.stages);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function recupererStages(){return _ref.apply(this,arguments);};}();recupererStages();},[sendRequest]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ErrorModal,{error:error,onClear:clearError}),/*#__PURE__*/_jsx(NouveauStage,{ajouterStage:ajouterStage}),stages&&/*#__PURE__*/_jsx(ListeStages,{items:stages}),\";\"]});};export default Stages;","map":{"version":3,"names":["React","useState","useEffect","useHttpClient","ErrorModal","ListeStages","NouveauStage","Stages","error","sendRequest","clearError","stages","setStages","ajouterStage","nouveauStage","concat","recupererStages","process","env","REACT_APP_BACKEND_URL","reponseData"],"sources":["C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/src/stage/pages/Stages.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport ListeStages from \"../components/ListeStages\";\r\nimport NouveauStage from \"../components/NouveauStage\";\r\n\r\nconst Stages = () => {\r\n  const {error, sendRequest, clearError } = useHttpClient();\r\n  const [stages, setStages] = useState();\r\n\r\n  function ajouterStage(nouveauStage) {\r\n    setStages(stages.concat(nouveauStage));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const recupererStages = async () => {\r\n      try {\r\n        const reponseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + \"/stages/stages\");\r\n\r\n        setStages(reponseData.stages);\r\n      } catch (err) {\r\n        \r\n      }\r\n    };\r\n    recupererStages();\r\n  }, [sendRequest]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <NouveauStage ajouterStage={ajouterStage} />\r\n      {stages && <ListeStages items={stages} />};\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Stages;\r\n"],"mappings":"sfAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,KAAQ,8BAA8B,CAC5D,MAAOC,WAAU,KAAM,+CAA+C,CACtE,MAAOC,YAAW,KAAM,2BAA2B,CACnD,MAAOC,aAAY,KAAM,4BAA4B,CAAC,wFAEtD,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,mBAA0CJ,aAAa,EAAE,CAAlDK,KAAK,gBAALA,KAAK,CAAEC,WAAW,gBAAXA,WAAW,CAAEC,UAAU,gBAAVA,UAAU,CACrC,cAA4BT,QAAQ,EAAE,wCAA/BU,MAAM,eAAEC,SAAS,eAExB,QAASC,aAAY,CAACC,YAAY,CAAE,CAClCF,SAAS,CAACD,MAAM,CAACI,MAAM,CAACD,YAAY,CAAC,CAAC,CACxC,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAMc,gBAAe,4FAAG,0LAEMP,YAAW,CAACQ,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAAG,gBAAgB,CAAC,QAArFC,WAAW,eAEjBR,SAAS,CAACQ,WAAW,CAACT,MAAM,CAAC,CAAC,gJAIjC,kBARKK,gBAAe,0CAQpB,CACDA,eAAe,EAAE,CACnB,CAAC,CAAE,CAACP,WAAW,CAAC,CAAC,CAEjB,mBACE,MAAC,KAAK,CAAC,QAAQ,yBACb,KAAC,UAAU,EAAC,KAAK,CAAED,KAAM,CAAC,OAAO,CAAEE,UAAW,EAAG,cACjD,KAAC,YAAY,EAAC,YAAY,CAAEG,YAAa,EAAG,CAC3CF,MAAM,eAAI,KAAC,WAAW,EAAC,KAAK,CAAEA,MAAO,EAAG,CAAC,GAC5C,GAAiB,CAErB,CAAC,CAED,cAAeJ,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}