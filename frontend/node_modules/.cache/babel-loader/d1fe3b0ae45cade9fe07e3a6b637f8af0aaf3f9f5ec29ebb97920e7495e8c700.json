{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useRef,useEffect}from'react';export var useHttpClient=function useHttpClient(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var sendRequest=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url){var method,body,headers,response,responseData,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:'GET';body=_args.length>2&&_args[2]!==undefined?_args[2]:null;headers=_args.length>3&&_args[3]!==undefined?_args[3]:{};_context.prev=3;_context.next=6;return fetch(url,{method:method,body:body,headers:headers});case 6:response=_context.sent;_context.next=9;return response.json();case 9:responseData=_context.sent;console.log(responseData);if(response.ok){_context.next=13;break;}throw new Error(responseData.message);case 13:return _context.abrupt(\"return\",responseData);case 16:_context.prev=16;_context.t0=_context[\"catch\"](3);setError(_context.t0.message);throw _context.t0;case 20:case\"end\":return _context.stop();}},_callee,null,[[3,16]]);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);var clearError=function clearError(){setError(null);};return{error:error,sendRequest:sendRequest,clearError:clearError};};","map":{"version":3,"names":["useState","useCallback","useRef","useEffect","useHttpClient","error","setError","sendRequest","url","method","body","headers","fetch","response","json","responseData","console","log","ok","Error","message","clearError"],"sources":["C:/Users/zacla/OneDrive/Documents/Web/420-4A5_Projet_ZacharyLabelle/frontend/src/shared/hooks/http-hook.js"],"sourcesContent":["import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [error, setError] = useState();\n\n  const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n        });\n        const responseData = await response.json();\n        console.log(responseData)\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        throw err;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n\n  return {error, sendRequest, clearError};\n};\n"],"mappings":"sfAAA,OAASA,QAAQ,CAAEC,WAAW,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAEhE,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CACjC,cAA0BJ,QAAQ,EAAE,wCAA7BK,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,YAAW,CAAGN,WAAW,4FAC7B,iBAAOO,GAAG,iLAAEC,MAAM,+CAAG,KAAK,CAAEC,IAAI,+CAAG,IAAI,CAAEC,OAAO,+CAAG,CAAC,CAAC,uCAG1BC,MAAK,CAACJ,GAAG,CAAE,CAChCC,MAAM,CAANA,MAAM,CACNC,IAAI,CAAJA,IAAI,CACJC,OAAO,CAAPA,OACF,CAAC,CAAC,QAJIE,QAAQ,qCAKaA,SAAQ,CAACC,IAAI,EAAE,QAApCC,YAAY,eAClBC,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC,IACpBF,QAAQ,CAACK,EAAE,+BACR,IAAIC,MAAK,CAACJ,YAAY,CAACK,OAAO,CAAC,yCAGhCL,YAAY,4DAEnBT,QAAQ,CAAC,YAAIc,OAAO,CAAC,CAAC,sFAGzB,+DACD,EAAE,CACH,CAED,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvBf,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAGD,MAAO,CAACD,KAAK,CAALA,KAAK,CAAEE,WAAW,CAAXA,WAAW,CAAEc,UAAU,CAAVA,UAAU,CAAC,CACzC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}